{
  "_format": "hh-sol-artifact-1",
  "contractName": "WhitelistRegistry",
  "sourceName": "contracts/WhitelistRegistry.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifier",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "eventId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "nullifier",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "commitment",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "leafIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newRoot",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "ApprovalVerified",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "oldRoot",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "newRoot",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "leafIndex",
          "type": "uint256"
        }
      ],
      "name": "RootUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oldVerifier",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "newVerifier",
          "type": "address"
        }
      ],
      "name": "VerifierUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "ROOT_HISTORY_SIZE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "commitments",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentRootIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "eventVerifiedCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getMerkleRoot",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getNextLeafIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_eventId",
          "type": "uint256"
        }
      ],
      "name": "getVerifiedCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_eventId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_commitment",
          "type": "uint256"
        }
      ],
      "name": "hasCommitment",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "isKnownRoot",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_eventId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_nullifier",
          "type": "uint256"
        }
      ],
      "name": "isNullifierUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_root",
          "type": "uint256"
        }
      ],
      "name": "isValidRoot",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "leafToCommitment",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "rootHistory",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalCommitments",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newAdmin",
          "type": "address"
        }
      ],
      "name": "transferAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newVerifier",
          "type": "address"
        }
      ],
      "name": "updateVerifier",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "verifiedApprovals",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "verifier",
      "outputs": [
        {
          "internalType": "contract IGroth16Verifier",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[2]",
          "name": "_pA",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "_pB",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "_pC",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[3]",
          "name": "_pubSignals",
          "type": "uint256[3]"
        }
      ],
      "name": "verifyAndRegister",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b5060405162000e7238038062000e72833981016040819052620000349162000157565b600080546001600160a01b0383166001600160a01b031991821617909155600180549091163317905562000069600262000091565b50601780546000908152601860205260409020805460ff1916600117905554601955620001c7565b60005b6014811015620000d857620000a981620000ed565b826001018260148110620000c157620000c162000189565b015580620000cf816200019f565b91505062000094565b50620000e56014620000ed565b601590910155565b6000816000036200010057506000919050565b81600103620001455760008060405160200162000127929190918252602082015260400190565b60408051601f19818403018152919052805160209091012092915050565b60408051602081018490520162000127565b6000602082840312156200016a57600080fd5b81516001600160a01b03811681146200018257600080fd5b9392505050565b634e487b7160e01b600052603260045260246000fd5b600060018201620001c057634e487b7160e01b600052601160045260246000fd5b5060010190565b610c9b80620001d76000396000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c8063940bcaea116100ad578063b759730d11610071578063b759730d146102da578063cd87a3b4146102ed578063d13e2e60146102f5578063f1c621ee14610323578063f851a4401461033657600080fd5b8063940bcaea146102365780639783de0b1461026457806397fc007c14610284578063a6232a9314610297578063abcea41a146102ba57600080fd5b806375829def116100f457806375829def146101c157806378bb86d3146101d657806385c74296146101df57806388a78d9e1461020d57806390eeb02b1461022d57600080fd5b80632b7ac3f3146101315780632cdabbce14610161578063495906571461019457806350e9b925146101a65780635b7ce6d0146101ae575b600080fd5b600054610144906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61018461016f36600461097c565b60009081526018602052604090205460ff1690565b6040519015158152602001610158565b6017545b604051908152602001610158565b600254610198565b6101846101bc366004610995565b610349565b6101d46101cf3660046109b7565b61036d565b005b61019860825481565b6101846101ed366004610995565b6000918252607e6020908152604080842092845291905290205460ff1690565b61019861021b36600461097c565b60009081526081602052604090205490565b610198607d5481565b610184610244366004610995565b607e60209081526000928352604080842090915290825290205460ff1681565b61019861027236600461097c565b60816020526000908152604090205481565b6101d46102923660046109b7565b610437565b6101846102a536600461097c565b60186020526000908152604090205460ff1681565b6101986102c836600461097c565b60806020526000908152604090205481565b6101846102e83660046109f8565b6104ed565b610198606481565b610184610303366004610995565b607f60209081526000928352604080842090915290825290205460ff1681565b61019861033136600461097c565b6107a6565b600154610144906001600160a01b031681565b6000828152607f6020908152604080832084845290915290205460ff165b92915050565b6001546001600160a01b031633146103c75760405162461bcd60e51b81526020600482015260186024820152774f6e6c792061646d696e2063616e2063616c6c207468697360401b60448201526064015b60405180910390fd5b6001600160a01b0381166104155760405162461bcd60e51b8152602060048201526015602482015274496e76616c69642061646d696e206164647265737360581b60448201526064016103be565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6001546001600160a01b0316331461048c5760405162461bcd60e51b81526020600482015260186024820152774f6e6c792061646d696e2063616e2063616c6c207468697360401b60448201526064016103be565b600080546001600160a01b038381166001600160a01b031983168117909355604080519190921680825260208201939093527f0243549a92b2412f7a3caf7a2e56d65b8821b91345363faa5f57195384065fcc910160405180910390a15050565b6040808201356000818152607e6020908152838220818601358084529152928120549092843592909160ff16156105665760405162461bcd60e51b815260206004820152601960248201527f417070726f76616c20616c72656164792076657269666965640000000000000060448201526064016103be565b600080546040516308a3cff560e11b81526001600160a01b03909116906311479fea9061059d908c908c908c908c90600401610a74565b602060405180830381865afa1580156105ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105de9190610ac0565b9050806106205760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b2102d2590383937b7b360811b60448201526064016103be565b6000828152607e6020908152604080832086845282528083208054600160ff199182168117909255868552607f84528285208986528452828520805490911690911790558483526081909152812080549161067a83610af8565b9091555050601754600061068f6002876107bd565b601754607d54919250906064906106a7906001610b11565b6106b19190610b3a565b607d8190558190601990606481106106cb576106cb610a5e565b01556000818152601860209081526040808320805460ff1916600117905584835260809091528120889055608280549161070483610af8565b919050555080837f085abb7e1ec79f8009eefd74599f97ea7fc898d7fa78827628d02bf5178e0ea68460405161073c91815260200190565b60405180910390a360408051878152602081018990529081018390526060810182905242608082015285907f047a0df1f857ac2c7d2be4a11eb4f860ffccba11dc1d83f4823590d9036221e19060a00160405180910390a25060019b9a5050505050505050505050565b601981606481106107b657600080fd5b0154905081565b60006107cb60146002610c32565b8354106108095760405162461bcd60e51b815260206004820152600c60248201526b151c9959481a5cc8199d5b1b60a21b60448201526064016103be565b82548260005b60148110156108e457610823600284610b3a565b60000361087e578186600101826014811061084057610840610a5e565b01558161084c82610916565b6040805160208101939093528201526060016040516020818303038152906040528051906020012060001c91506108c5565b85600101816014811061089357610893610a5e565b015460408051602081019290925281018390526060016040516020818303038152906040528051906020012060001c91505b6108d0600284610c3e565b9250806108dc81610af8565b91505061080f565b506015850181905584548560006108fa83610af8565b9091555050845461090d90600190610c52565b95945050505050565b60008160000361092857506000919050565b8160010361096b5760008060405160200161094d929190918252602082015260400190565b60408051601f19818403018152919052805160209091012092915050565b60408051602081018490520161094d565b60006020828403121561098e57600080fd5b5035919050565b600080604083850312156109a857600080fd5b50508035926020909101359150565b6000602082840312156109c957600080fd5b81356001600160a01b03811681146109e057600080fd5b9392505050565b806040810183101561036757600080fd5b600080600080610160808688031215610a1057600080fd5b610a1a87876109e7565b945060c0860187811115610a2d57600080fd5b604087019450610a3d88826109e7565b935050868187011115610a4f57600080fd5b50929591945092610100019150565b634e487b7160e01b600052603260045260246000fd5b61016081016040808784378083018660005b6002811015610aa357838284379183019190830190600101610a86565b505050808560c08501375060608361010084013795945050505050565b600060208284031215610ad257600080fd5b815180151581146109e057600080fd5b634e487b7160e01b600052601160045260246000fd5b600060018201610b0a57610b0a610ae2565b5060010190565b8082018082111561036757610367610ae2565b634e487b7160e01b600052601260045260246000fd5b600082610b4957610b49610b24565b500690565b600181815b80851115610b89578160001904821115610b6f57610b6f610ae2565b80851615610b7c57918102915b93841c9390800290610b53565b509250929050565b600082610ba057506001610367565b81610bad57506000610367565b8160018114610bc35760028114610bcd57610be9565b6001915050610367565b60ff841115610bde57610bde610ae2565b50506001821b610367565b5060208310610133831016604e8410600b8410161715610c0c575081810a610367565b610c168383610b4e565b8060001904821115610c2a57610c2a610ae2565b029392505050565b60006109e08383610b91565b600082610c4d57610c4d610b24565b500490565b8181038181111561036757610367610ae256fea26469706673582212204dec269366ec7f574ccb0d49df6d6ede4813d6b7c825a6dede1f0b176791e56664736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061012c5760003560e01c8063940bcaea116100ad578063b759730d11610071578063b759730d146102da578063cd87a3b4146102ed578063d13e2e60146102f5578063f1c621ee14610323578063f851a4401461033657600080fd5b8063940bcaea146102365780639783de0b1461026457806397fc007c14610284578063a6232a9314610297578063abcea41a146102ba57600080fd5b806375829def116100f457806375829def146101c157806378bb86d3146101d657806385c74296146101df57806388a78d9e1461020d57806390eeb02b1461022d57600080fd5b80632b7ac3f3146101315780632cdabbce14610161578063495906571461019457806350e9b925146101a65780635b7ce6d0146101ae575b600080fd5b600054610144906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61018461016f36600461097c565b60009081526018602052604090205460ff1690565b6040519015158152602001610158565b6017545b604051908152602001610158565b600254610198565b6101846101bc366004610995565b610349565b6101d46101cf3660046109b7565b61036d565b005b61019860825481565b6101846101ed366004610995565b6000918252607e6020908152604080842092845291905290205460ff1690565b61019861021b36600461097c565b60009081526081602052604090205490565b610198607d5481565b610184610244366004610995565b607e60209081526000928352604080842090915290825290205460ff1681565b61019861027236600461097c565b60816020526000908152604090205481565b6101d46102923660046109b7565b610437565b6101846102a536600461097c565b60186020526000908152604090205460ff1681565b6101986102c836600461097c565b60806020526000908152604090205481565b6101846102e83660046109f8565b6104ed565b610198606481565b610184610303366004610995565b607f60209081526000928352604080842090915290825290205460ff1681565b61019861033136600461097c565b6107a6565b600154610144906001600160a01b031681565b6000828152607f6020908152604080832084845290915290205460ff165b92915050565b6001546001600160a01b031633146103c75760405162461bcd60e51b81526020600482015260186024820152774f6e6c792061646d696e2063616e2063616c6c207468697360401b60448201526064015b60405180910390fd5b6001600160a01b0381166104155760405162461bcd60e51b8152602060048201526015602482015274496e76616c69642061646d696e206164647265737360581b60448201526064016103be565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6001546001600160a01b0316331461048c5760405162461bcd60e51b81526020600482015260186024820152774f6e6c792061646d696e2063616e2063616c6c207468697360401b60448201526064016103be565b600080546001600160a01b038381166001600160a01b031983168117909355604080519190921680825260208201939093527f0243549a92b2412f7a3caf7a2e56d65b8821b91345363faa5f57195384065fcc910160405180910390a15050565b6040808201356000818152607e6020908152838220818601358084529152928120549092843592909160ff16156105665760405162461bcd60e51b815260206004820152601960248201527f417070726f76616c20616c72656164792076657269666965640000000000000060448201526064016103be565b600080546040516308a3cff560e11b81526001600160a01b03909116906311479fea9061059d908c908c908c908c90600401610a74565b602060405180830381865afa1580156105ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105de9190610ac0565b9050806106205760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b2102d2590383937b7b360811b60448201526064016103be565b6000828152607e6020908152604080832086845282528083208054600160ff199182168117909255868552607f84528285208986528452828520805490911690911790558483526081909152812080549161067a83610af8565b9091555050601754600061068f6002876107bd565b601754607d54919250906064906106a7906001610b11565b6106b19190610b3a565b607d8190558190601990606481106106cb576106cb610a5e565b01556000818152601860209081526040808320805460ff1916600117905584835260809091528120889055608280549161070483610af8565b919050555080837f085abb7e1ec79f8009eefd74599f97ea7fc898d7fa78827628d02bf5178e0ea68460405161073c91815260200190565b60405180910390a360408051878152602081018990529081018390526060810182905242608082015285907f047a0df1f857ac2c7d2be4a11eb4f860ffccba11dc1d83f4823590d9036221e19060a00160405180910390a25060019b9a5050505050505050505050565b601981606481106107b657600080fd5b0154905081565b60006107cb60146002610c32565b8354106108095760405162461bcd60e51b815260206004820152600c60248201526b151c9959481a5cc8199d5b1b60a21b60448201526064016103be565b82548260005b60148110156108e457610823600284610b3a565b60000361087e578186600101826014811061084057610840610a5e565b01558161084c82610916565b6040805160208101939093528201526060016040516020818303038152906040528051906020012060001c91506108c5565b85600101816014811061089357610893610a5e565b015460408051602081019290925281018390526060016040516020818303038152906040528051906020012060001c91505b6108d0600284610c3e565b9250806108dc81610af8565b91505061080f565b506015850181905584548560006108fa83610af8565b9091555050845461090d90600190610c52565b95945050505050565b60008160000361092857506000919050565b8160010361096b5760008060405160200161094d929190918252602082015260400190565b60408051601f19818403018152919052805160209091012092915050565b60408051602081018490520161094d565b60006020828403121561098e57600080fd5b5035919050565b600080604083850312156109a857600080fd5b50508035926020909101359150565b6000602082840312156109c957600080fd5b81356001600160a01b03811681146109e057600080fd5b9392505050565b806040810183101561036757600080fd5b600080600080610160808688031215610a1057600080fd5b610a1a87876109e7565b945060c0860187811115610a2d57600080fd5b604087019450610a3d88826109e7565b935050868187011115610a4f57600080fd5b50929591945092610100019150565b634e487b7160e01b600052603260045260246000fd5b61016081016040808784378083018660005b6002811015610aa357838284379183019190830190600101610a86565b505050808560c08501375060608361010084013795945050505050565b600060208284031215610ad257600080fd5b815180151581146109e057600080fd5b634e487b7160e01b600052601160045260246000fd5b600060018201610b0a57610b0a610ae2565b5060010190565b8082018082111561036757610367610ae2565b634e487b7160e01b600052601260045260246000fd5b600082610b4957610b49610b24565b500690565b600181815b80851115610b89578160001904821115610b6f57610b6f610ae2565b80851615610b7c57918102915b93841c9390800290610b53565b509250929050565b600082610ba057506001610367565b81610bad57506000610367565b8160018114610bc35760028114610bcd57610be9565b6001915050610367565b60ff841115610bde57610bde610ae2565b50506001821b610367565b5060208310610133831016604e8410600b8410161715610c0c575081810a610367565b610c168383610b4e565b8060001904821115610c2a57610c2a610ae2565b029392505050565b60006109e08383610b91565b600082610c4d57610c4d610b24565b500490565b8181038181111561036757610367610ae256fea26469706673582212204dec269366ec7f574ccb0d49df6d6ede4813d6b7c825a6dede1f0b176791e56664736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
